-- =========================================
-- 学校社团管理平台 - 测试数据
-- 版本: V3
-- 创建日期: 2025-11-17
-- 描述: 插入基础测试数据，用于开发和调试
-- 注意: 生产环境请删除此迁移文件或注释掉相关INSERT语句
-- =========================================

-- =========================================
-- 1. 社团测试数据
-- =========================================
INSERT INTO `club` (`name`, `description`, `logo`, `status`, `create_user_id`, `member_count`) VALUES
('编程协会', '专注于编程技术交流与学习，定期举办编程比赛和技术分享会', 'https://example.com/logo/programming.png', 'active', 3, 5),
('篮球社', '热爱篮球的同学聚集地，每周组织篮球比赛和训练', 'https://example.com/logo/basketball.png', 'active', 3, 3),
('摄影社', '记录校园美好瞬间，学习摄影技巧，定期外拍活动', 'https://example.com/logo/photo.png', 'pending', 2, 0),
('音乐社', '音乐爱好者的天堂，涵盖声乐、器乐等多个方向', 'https://example.com/logo/music.png', 'active', 3, 2),
('志愿者协会', '组织公益活动，服务社会，传递温暖', 'https://example.com/logo/volunteer.png', 'disabled', 3, 1);

-- =========================================
-- 2. 社团成员测试数据
-- =========================================
-- 编程协会成员
INSERT INTO `club_member` (`club_id`, `user_id`, `role`, `status`, `join_time`) VALUES
(1, 3, 'leader', 'approved', '2024-09-01 10:00:00'),
(1, 2, 'vice_leader', 'approved', '2024-09-05 14:30:00'),
(1, 1, 'member', 'approved', '2024-09-10 16:20:00');

-- 篮球社成员
INSERT INTO `club_member` (`club_id`, `user_id`, `role`, `status`, `join_time`) VALUES
(2, 3, 'leader', 'approved', '2024-09-01 09:00:00'),
(2, 2, 'member', 'approved', '2024-09-08 11:15:00');

-- 摄影社成员（待审核）
INSERT INTO `club_member` (`club_id`, `user_id`, `role`, `status`, `join_time`) VALUES
(3, 2, 'leader', 'approved', '2024-10-01 10:00:00'),
(3, 1, 'member', 'pending', NULL);

-- 音乐社成员
INSERT INTO `club_member` (`club_id`, `user_id`, `role`, `status`, `join_time`) VALUES
(4, 3, 'leader', 'approved', '2024-09-15 13:00:00'),
(4, 1, 'member', 'approved', '2024-09-20 15:30:00');

-- 志愿者协会成员
INSERT INTO `club_member` (`club_id`, `user_id`, `role`, `status`, `join_time`) VALUES
(5, 3, 'leader', 'approved', '2024-08-25 10:00:00');

-- =========================================
-- 3. 活动测试数据
-- =========================================
INSERT INTO `activity` (`club_id`, `title`, `content`, `cover`, `location`, `start_time`, `end_time`, `signup_start_time`, `signup_end_time`, `status`, `max_members`, `current_members`, `create_user_id`) VALUES
-- 编程协会活动
(1, 'Spring Boot 3.4 新特性分享会', '本次分享会将深入讲解 Spring Boot 3.4 的新特性，包括虚拟线程支持、性能优化等内容。欢迎对 Java 开发感兴趣的同学参加！', 'https://example.com/activity/springboot.png', '教学楼A-301', '2025-11-25 14:00:00', '2025-11-25 16:00:00', '2025-11-17 08:00:00', '2025-11-24 23:59:59', 'published', 50, 12, 3),
(1, 'ACM算法竞赛月赛', '每月一次的算法竞赛，题目涵盖数据结构、动态规划、图论等，欢迎挑战！', 'https://example.com/activity/acm.png', '机房B-201', '2025-11-30 19:00:00', '2025-11-30 22:00:00', '2025-11-17 08:00:00', '2025-11-29 18:00:00', 'published', 100, 35, 3),
(1, 'Java后端项目实战工作坊', '从零开始搭建一个完整的Spring Boot项目（草稿）', NULL, '实验楼C-101', '2025-12-15 14:00:00', '2025-12-15 17:00:00', '2025-12-01 08:00:00', '2025-12-14 18:00:00', 'draft', 30, 0, 3),

-- 篮球社活动
(2, '新生杯篮球赛', '面向全校新生的篮球比赛，组队参赛，展现你的篮球技巧！', 'https://example.com/activity/basketball.png', '体育馆篮球场', '2025-11-28 15:00:00', '2025-11-28 18:00:00', '2025-11-17 08:00:00', '2025-11-27 18:00:00', 'published', 200, 78, 3),
(2, '每周篮球训练', '定期篮球训练，提升技术水平', 'https://example.com/activity/training.png', '体育馆', '2025-11-20 16:00:00', '2025-11-20 18:00:00', '2025-11-17 08:00:00', '2025-11-19 18:00:00', 'published', NULL, 15, 3),

-- 摄影社活动（审核中）
(3, '秋日校园摄影大赛', '用镜头记录校园秋色，优秀作品将在校园展出', 'https://example.com/activity/photo-contest.png', '全校园', '2025-11-22 09:00:00', '2025-11-22 17:00:00', '2025-11-17 08:00:00', '2025-11-21 18:00:00', 'pending', NULL, 0, 2),

-- 音乐社活动
(4, '迎新音乐会', '音乐社年度盛典，精彩演出不容错过！', 'https://example.com/activity/concert.png', '大礼堂', '2025-12-05 19:00:00', '2025-12-05 21:00:00', '2025-11-17 08:00:00', '2025-12-04 18:00:00', 'published', 500, 203, 3),

-- 已完成的活动
(1, '2024年度编程马拉松', '24小时编程挑战赛（已结束）', 'https://example.com/activity/hackathon.png', '图书馆', '2024-10-20 08:00:00', '2024-10-21 08:00:00', '2024-10-01 08:00:00', '2024-10-19 18:00:00', 'completed', 50, 45, 3);

-- =========================================
-- 4. 活动报名测试数据
-- =========================================
INSERT INTO `activity_signup` (`activity_id`, `user_id`, `status`, `signup_time`, `checkin_time`) VALUES
-- Spring Boot 分享会报名
(1, 1, 'registered', '2025-11-17 09:30:00', NULL),
(1, 2, 'registered', '2025-11-17 10:15:00', NULL),

-- ACM算法竞赛报名
(2, 1, 'registered', '2025-11-17 09:45:00', NULL),
(2, 2, 'registered', '2025-11-17 11:20:00', NULL),
(2, 3, 'cancelled', '2025-11-17 08:30:00', NULL),

-- 新生杯篮球赛报名
(4, 1, 'registered', '2025-11-17 14:00:00', NULL),
(4, 2, 'registered', '2025-11-17 15:30:00', NULL),

-- 每周篮球训练
(5, 1, 'registered', '2025-11-17 16:00:00', NULL),

-- 迎新音乐会报名
(7, 1, 'registered', '2025-11-17 10:00:00', NULL),
(7, 2, 'registered', '2025-11-17 11:00:00', NULL),
(7, 3, 'registered', '2025-11-17 12:00:00', NULL),

-- 已完成活动的签到记录
(8, 1, 'checked_in', '2024-10-15 09:00:00', '2024-10-20 08:30:00'),
(8, 2, 'checked_in', '2024-10-16 10:00:00', '2024-10-20 08:45:00'),
(8, 3, 'absent', '2024-10-18 14:00:00', NULL);

-- =========================================
-- 5. 公告测试数据
-- =========================================
INSERT INTO `announcement` (`title`, `content`, `type`, `related_id`, `priority`, `status`, `create_user_id`, `publish_time`) VALUES
-- 系统公告
('平台上线通知', '学校社团管理平台正式上线！欢迎各位同学注册使用，浏览社团、参与活动。', 'system', NULL, 2, 'published', 1, '2024-09-01 08:00:00'),
('系统维护公告', '本平台将于2025年11月20日凌晨2:00-4:00进行系统维护，期间无法访问，请各位同学提前安排。', 'system', NULL, 1, 'published', 1, '2025-11-18 10:00:00'),

-- 社团公告
('编程协会招新啦！', '编程协会现面向全校招新，欢迎热爱编程的同学加入我们！', 'club', 1, 1, 'published', 3, '2024-09-01 09:00:00'),
('篮球社训练时间调整', '由于场地原因，本周篮球训练时间调整为周六下午3点，请各位成员注意。', 'club', 2, 0, 'published', 3, '2025-11-18 14:00:00'),

-- 活动公告
('Spring Boot分享会议程公布', '本次分享会将分为三个部分：新特性介绍、实战演示、Q&A环节，欢迎大家踊跃提问。', 'activity', 1, 0, 'published', 3, '2025-11-18 16:00:00'),

-- 草稿公告
('年度总结大会筹备', '年度总结大会筹备中，待进一步通知', 'system', NULL, 0, 'draft', 1, NULL);

-- =========================================
-- 6. 通知测试数据
-- =========================================
INSERT INTO `notification` (`user_id`, `title`, `content`, `type`, `related_type`, `related_id`, `read_flag`, `read_time`) VALUES
-- test_user (ID=2) 的通知
(2, '欢迎加入平台', '欢迎你注册学校社团管理平台！快去浏览感兴趣的社团和活动吧。', 'system', NULL, NULL, 1, '2024-09-02 09:00:00'),
(2, '加入编程协会申请已通过', '恭喜！你加入编程协会的申请已通过，现在你可以参与社团的各项活动了。', 'audit', 'club', 1, 1, '2024-09-06 10:00:00'),
(2, 'Spring Boot分享会报名成功', '你已成功报名"Spring Boot 3.4 新特性分享会"，活动时间：2025-11-25 14:00，地点：教学楼A-301', 'activity', 'activity', 1, 0, NULL),
(2, 'ACM算法竞赛即将开始', '你报名的"ACM算法竞赛月赛"将于2025-11-30 19:00开始，请提前做好准备。', 'activity', 'activity', 2, 0, NULL),

-- test_user (ID=1) 的通知
(1, '欢迎加入平台', '欢迎你注册学校社团管理平台！快去浏览感兴趣的社团和活动吧。', 'system', NULL, NULL, 1, '2024-09-01 10:00:00'),
(1, '加入摄影社申请待审核', '你加入摄影社的申请正在审核中，请耐心等待。', 'audit', 'club', 3, 1, '2024-10-02 09:00:00'),
(1, '编程协会有新公告', '编程协会发布了新公告，快去查看吧！', 'club', 'announcement', 3, 0, NULL),
(1, '迎新音乐会报名成功', '你已成功报名"迎新音乐会"，活动时间：2025-12-05 19:00，地点：大礼堂', 'activity', 'activity', 7, 0, NULL),

-- club_admin (ID=3) 的通知
(3, '你创建的社团已通过审核', '你创建的"编程协会"已通过审核，现在可以正常运营了。', 'audit', 'club', 1, 1, '2024-09-02 11:00:00'),
(3, '有新的社团加入申请', '用户"test_user"申请加入你管理的"编程协会"，请及时处理。', 'club', 'club_member', 3, 0, NULL);

-- =========================================
-- 数据统计
-- =========================================
-- 用户: 3个 (admin, test_user, club_admin)
-- 社团: 5个 (3个活跃, 1个待审核, 1个禁用)
-- 成员关系: 11条 (包含1条待审核)
-- 活动: 8个 (6个已发布, 1个草稿, 1个待审核, 1个已完成)
-- 报名记录: 13条 (包含签到、取消等多种状态)
-- 公告: 6条 (5条已发布, 1条草稿)
-- 通知: 11条 (部分已读, 部分未读)
